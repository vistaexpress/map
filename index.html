<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/jpeg" href="images/no.jpg">
    <title>FEDPONEK Bus Management System</title>
    <meta
      name="description"
      content="Skill Hub - Empowering the Next Generation of Innovators"
    />

    <!-- Resource hints for critical assets -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script>
      // Initialize Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyA9-SeBMqujxMleatSd23FM5vlLWdOVUPA",
        authDomain: "grandpa-523e1.firebaseapp.com",
        projectId: "grandpa-523e1",
        storageBucket: "grandpa-523e1.firebasestorage.app",
        messagingSenderId: "1049062266843",
        appId: "1:1049062266843:web:6f8b23c5a1f20a7836f9fe"
      };
      firebase.initializeApp(firebaseConfig);
    </script>

    <link rel="preload" href="images/power.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="images/shoeee.jpg" as="image" type="image/jpeg" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />

  <!-- Favicon -->
  <link rel="icon" type="image/jpeg" href="images/no.jpg" />
  <!-- fallback to the same jpeg for older browsers -->
  <link rel="alternate icon" href="images/no.jpg" />

    <!-- Critical CSS -->
    <link rel="stylesheet" href="styles/index.css" />
    <link rel="stylesheet" href="styles/newsletter.css" />
    <link rel="stylesheet" href="styles/modal.css" />

    <!-- Optimized font loading -->
    <link
      rel="preload"
      as="font"
      href="https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyfAZ9hiA.woff2"
      crossorigin



    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      media="print"
      onload="this.media='all'"
    />

    <!-- Font Awesome with optimized loading -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      media="print"x
      onload="this.media='all'"
    />

    <!-- Add fallback for users with JavaScript disabled -->
    <noscript>
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      />
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      />
    </noscript>

    <!-- Module scripts loaded with type="module" for better performance -->
    <script src="scripts/index.js" defer></script>
    <script src="scripts/cart.js" defer></script>
    <script src="scripts/menu.js" defer></script>
    <script src="scripts/enrollment.js" defer></script>
    <script src="scripts/newsletter.js" defer></script>
    <script src="scripts/modal.js" defer></script>

    <!-- Image lazy loading setup -->
    <script>
      if ("loading" in HTMLImageElement.prototype) {
        document.addEventListener("DOMContentLoaded", () => {
          document.querySelectorAll("img[data-src]").forEach((img) => {
            img.setAttribute("loading", "lazy");
            img.src = img.dataset.src;
          });
        });
      } else {
        const script = document.createElement("script");
        script.src =
          "https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js";
        document.body.appendChild(script);
      }
    </script>
  </head>

  <body>
    <!-- Loader Start -->
    <div id="loader-overlay">
      <div class="loader-spinner"></div>
    </div>
    <!-- Loader End -->
    <!-- Menu will be injected here by menu.js -->



    <main >
      <section class="hero">
        <div class="slider-container">
          <!-- Use a muted, autoplaying, looping video as the hero background. poster provides a fallback image. -->
          <video class="hero-video" autoplay muted loop playsinline poster="images/b12.jpg">
            <source src="images/world.mp4" type="video/mp4">
            <!-- Fallback content for very old browsers -->
            <img src="images/b12.jpg" alt="Workshop Training" />
          </video>
        </div>
        
  <div class="hero-content">
          
          <!-- Dynamic CTA Button -->
<button class="cta-button" id="ctaBtn">Explore POLYTEC</button>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var btn = document.getElementById('ctaBtn');
    if (!btn) return;

    function updateCTA() {
      try {
        // default state
        btn.textContent = 'EXPLORE FEDPONEK';
        btn.onclick = function() {
          // Redirect to Google Earth location for FEDPONEK
          window.location.href = 'https://earth.google.com/web/@5.43871135,7.02877885,69.37523391a,716.22717578d,35y,137.50885651h,61.99943841t,-0r/data=CgRCAggBMigKJgokCiAxNXZpbUk4dXV2MkFXVDVNV2JsWGpLM1B6c2VlZUJIOCACOgMKATBCAggASggIoJeFjAcQAQ?authuser=0';
        };

        // Firebase user (highest priority), but respect stored role marker when present
        if (typeof firebase !== 'undefined' && firebase.auth) {
          var user = firebase.auth().currentUser;
          if (user) {
            // If a durable role marker exists, use it to pick the correct dashboard
            var stored = null;
            try { stored = localStorage.getItem('userRole'); } catch (e) { stored = null; }
            if (stored === 'driver') {
              btn.textContent = 'My Dashboard';
              btn.onclick = function() { window.location.href = 'driver-bus-routes.html'; };
              return;
            }
            if (stored === 'admin') {
              btn.textContent = 'My Dashboard';
              btn.onclick = function() { window.location.href = 'dashboard.html'; };
              return;
            }

            // Default for signed-in users without a stored role
            btn.textContent = 'My Dashboard';
            btn.onclick = function() { window.location.href = 'dashboard.html'; };
            return;
          }
        }

        // Fallback to stored role markers (admin uses sessionStorage + localStorage)
        var storedRole = null;
        try { storedRole = localStorage.getItem('userRole'); } catch (e) { storedRole = null; }
        var isAdmin = false;
        try { isAdmin = sessionStorage.getItem('isAdmin') === 'true' || storedRole === 'admin'; } catch (e) { isAdmin = (storedRole === 'admin'); }

        if (isAdmin) {
          btn.textContent = 'My Dashboard';
          btn.onclick = function() { window.location.href = 'dashboard.html?mode=admin'; };
          return;
        }

        if (storedRole === 'driver') {
          btn.textContent = 'My Dashboard';
          // When in driver-only mode, take drivers straight to their Bus & Routes page
          btn.onclick = function() { window.location.href = 'driver-bus-routes.html'; };
          return;
        }
      } catch (err) {
        // fallback safe behavior
        btn.textContent = 'Access Dashboard';
        btn.onclick = function() { window.location.href = 'duo.html'; };
      }
    }

    updateCTA();

    // If firebase available, listen for changes
    if (typeof firebase !== 'undefined' && firebase.auth) {
      firebase.auth().onAuthStateChanged(function() { updateCTA(); });
    }

    // Listen for storage changes from other tabs or after duo.html sets role markers
    window.addEventListener('storage', function(e) {
      if (!e) return;
      if (e.key === 'userRole' || e.key === 'isAdmin') updateCTA();
    });
  });
</script>
          <style>
          .newsletter-form input[type="email"]::placeholder {
            color: #fff;
            opacity: 1;
          }
            .cta-button {
              background: linear-gradient(90deg, #4d732b 0%, #000000 100%);
              color: #fff;
              border: none;
              border-radius: 10px;
              padding: 1rem 2rem;
              font-size: 1.15rem;
              font-weight: 600;
              box-shadow: 0 4px 16px rgba(220,26,26,0.15);
              cursor: pointer;
              transition: background 0.3s, transform 0.2s, box-shadow 0.3s;
              letter-spacing: 1px;
              margin-top: 2rem;
              margin-bottom: 1rem;
              outline: none;
            }
            .cta-button:hover, .cta-button:focus {
              background: linear-gradient(90deg, #b80000 0%, #dc1a1a 100%);
              transform: translateY(-2px) scale(1.04);
              box-shadow: 0 8px 24px rgba(220,26,26,0.25);
            }
          </style>
        </div>       
      </section>
      
   
   <a class="search-card" href="https://www.google.com/maps/d/u/1/viewer?mid=15vimI8uuv2AWT5MWblXjK3PzseeeBH8&ll=5.433952476181308%2C7.031284799830617&z=17" target="_blank" rel="noopener noreferrer" aria-label="Open campus map in Google Maps">
            <div class="search-card-inner">
              <div class="search-left">
                <i class="fas fa-search-location"></i>
              </div>
              <div class="search-center">
                <div class="search-title">Open Campus Map</div>
                <div class="search-sub">Click to view campus map and directions</div>
              </div>
              <div class="search-right">
                <button class="search-go" aria-hidden="true">Open</button>
              </div>
            </div>
          </a>
  <section class="services">
        <div class="services-header">
          <h2>Campus & Map Exploration</h2>
          <div class="header-line"></div>
        </div>

        <div class="services-grid">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-map-marked-alt"></i>
            </div>
            <h3 class="service-title">Interactive Map</h3>
            <ul class="service-features">
              <li><i class="fas fa-check"></i>Explore campus buildings and landmarks</li>
              <li><i class="fas fa-check"></i>Zoomable maps with layers (parking, amenities)</li>
              <li><i class="fas fa-check"></i>Directions between points of interest</li>
            </ul>
          </div>

          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-school"></i>
            </div>
            <h3 class="service-title">School Finder</h3>
            <ul class="service-features">
              <li><i class="fas fa-check"></i>Search schools by program and location</li>
              <li><i class="fas fa-check"></i>Compare facilities and contact info</li>
              <li><i class="fas fa-check"></i>Filter by accreditation and offerings</li>
            </ul>
          </div>

          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-video"></i>
            </div>
            <h3 class="service-title">Virtual Tours</h3>
            <ul class="service-features">
              <li><i class="fas fa-check"></i>Guided 360° tours of key facilities</li>
              <li><i class="fas fa-check"></i>Embedded videos and photo galleries</li>
              <li><i class="fas fa-check"></i>Schedule live walkthroughs with staff</li>
            </ul>
          </div>

          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-search-location"></i>
            </div>
            <h3 class="service-title">Program Explorer</h3>
            <ul class="service-features">
              <li><i class="fas fa-check"></i>Find programs by subject and level</li>
              <li><i class="fas fa-check"></i>Quick links to admissions and brochures</li>
              <li><i class="fas fa-check"></i>Save favorite programs for later</li>
            </ul>
          </div>
          <!-- Clickable Search Card (opens Google Maps custom map) -->
       
        </div>
      </section>


       <style>
          .hero {
            height: 80vh;
          }
       
          .services {
            padding: 5rem 2rem;
            background: linear-gradient(to right, #898484, #000000);
            position: relative;
            color: #ffffff;
          }
          /* .services::before overlay removed for better gradient visibility */
          .services-header {
            position: relative;
            z-index: 2;
            margin-bottom: 4rem;
          }
          .services h2 {
            color: #ffffff;
            font-size: 2.5rem;
            font-weight: 500;
            letter-spacing: 3px;
            text-align: center;
            text-transform: uppercase;
            margin-bottom: 2rem;
          }
          .header-line {
            width: 100px;
            height: 3px;
            background: #dc1a1a;
            margin: 0 auto;
          }
          .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
          }
          .service-card {
            background: #1a1a1a;
            border: 1px solid #333;
            padding: 2.5rem;
            transition: all 0.3s ease;
            position: relative;
            border-radius: 5px;
            box-shadow: 0 7px 10px rgba(199, 199, 199, 0.762);

          }
          .service-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #dc1a1a;
            transition: width 0.3s ease;
          }
          .service-card:hover::after {
            width: 100%;
          }
          .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
          }
          .service-icon {
            margin-bottom: 2rem;
            position: relative;
          }
          .service-icon i {
            font-size: 2rem;
            color: #28a745; /* green */
          }
          .service-title {
            color: #ffffff;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            font-weight: 500;
            letter-spacing: 1px;
          }
          .service-features {
            list-style: none;
            padding: 0;
            margin: 0;
          }
          .service-features li {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            color: #999;
            font-size: 1rem;
            transition: color 0.3s ease;
          }
          .service-features li:hover {
            color: #ffffff;
          }
          .service-features i {
            color: #28a745; /* green */
            margin-right: 1rem;
            font-size: 0.9rem;
            opacity: 0.9;
          }
          /* Search card styles */
          .search-card {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: inherit;
            background: linear-gradient(180deg, #0f1720 0%, #131921 100%);
            border: 1px solid rgba(255,255,255,0.06);
            padding: 0.75rem 1rem;
            border-radius: 10px;
            transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
            box-shadow: 0 4px 20px rgba(0,0,0,0.35);
            align-self: stretch;
          }
          .search-card:hover, .search-card:focus {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.45);
            border-color: #dc1a1a;
          }
          .search-card-inner { display: flex; align-items: center; width: 100%; }
          .search-left { width: 56px; height: 56px; display:flex; align-items:center; justify-content:center; border-radius:8px; background:rgba(255,255,255,0.03); margin-right:1rem; }
          .search-left i { font-size:1.4rem; color: #dc1a1a; }
          .search-center { flex:1; min-width:0; }
          .search-title { font-weight:700; color:#fff; font-size:1.05rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
          .search-sub { color:#bfc6cc; font-size:0.9rem; margin-top:0.15rem; overflow:hidden; text-overflow:ellipsis; }
          .search-right { margin-left:1rem; }
          .search-go { background:#dc1a1a; color:#fff; border:none; padding:0.5rem 0.9rem; border-radius:8px; cursor:pointer; font-weight:600; }
          .search-go:focus { outline:2px solid rgba(220,26,26,0.25); }

         
        </style>
        
          <style>
            @media (max-width: 480px) {
                .services-grid {
                  grid-template-columns: 1fr;
                  gap: 1rem;
                  max-width: 95vw;
                  margin: 0 auto;
                  justify-items: center;
                  align-items: center;
                  display: flex;
                  flex-direction: column;
                  min-height: 60vh;
                  justify-content: center;
                  padding-bottom: 60px;
                }
                .service-card {
                  padding: 1rem;
                  font-size: 0.85rem;
                  max-width: 90vw;
                  margin: 0.5rem auto;
                  box-shadow: 0 4px 12px rgba(233, 233, 233, 0.54);
                  text-align: center;
                }
                .service-icon i {
                  font-size: 1.2rem;
                }
                .service-title {
                  font-size: 1rem;
                  margin-bottom: 0.7rem;
                }
                .service-features li {
                  font-size: 0.85rem;
                  margin-bottom: 0.5rem;
                  justify-content: center;
                }
                .services-header h2 {
                  font-size: 1.2rem !important;
                }
              }
          </style>
    </main>

    <footer class="footer">



      <div class="footer-bottom">
        <div class="payment-methods">
          <picture>
            <img src="images/visa.jpg" alt="Visa" />
          </picture>
          <picture>
            <img src="images/mastercard.jpg" alt="Mastercard" />
          </picture>
          <picture>
            <img src="images/verve.jpg" alt="Verve" />
          </picture>
  <!-- Preload above-the-fold hero images (WebP preferred) -->
  <link rel="preload" href="images/serious1.webp" as="image" type="image/webp" />
  <link rel="preload" href="images/seriuu.webp" as="image" type="image/webp" />
  <link rel="preload" href="images/me7.webp" as="image" type="image/webp" />
        </div>
        <div class="footer-info">
          <p>&copy; 2025 FPNO Navigation Map. All rights reserved.</p>
          <div class="footer-links">
            <a href="#" data-modal="privacyPolicyModal"><i class="fas fa-user-shield"></i> Privacy Policy</a>
            <a href="#" data-modal="termsModal"><i class="fas fa-balance-scale"></i> Terms of Service</a>
            <a href="#"><i class="fas fa-universal-access"></i> Accessibility</a>
          </div>
        </div>
      </div>
    </footer>
  </body>
  
</html>
